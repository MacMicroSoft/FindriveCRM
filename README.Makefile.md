# Makefile Commands Guide

–®–≤–∏–¥–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–æ–º.

## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫ (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–±)
make up

# –ê–±–æ –ø–æ–≤–Ω–∏–π –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç (build + migrate + collectstatic + up)
make deploy

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
./deploy.sh
```

### üì¶ –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ JSON –¥–∞–º–ø –∑ —É—Å—ñ–º–∞ –¥–∞–Ω–∏–º–∏
make backup-db

# –§–∞–π–ª –±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ backups/db_dump_YYYYMMDD_HHMMSS.json
```

### üîÑ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ JSON –¥–∞–º–ø—É
make restore-db
# –í–∞–º –±—É–¥–µ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ –≤–∏–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª –∑ backups/
```

### üñ•Ô∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Linux —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker —Ç–∞ Docker Compose
make setup-server

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
./setup-server.sh
```

**–í–∞–∂–ª–∏–≤–æ:** –ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `setup-server` –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –∑–Ω–æ–≤—É (–∞–±–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ `newgrp docker`).

## –í—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `make help` | –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ |
| `make backup-db` | –°—Ç–≤–æ—Ä–∏—Ç–∏ JSON –¥–∞–º–ø –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| `make restore-db` | –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö –∑ JSON –¥–∞–º–ø—É |
| `make setup-server` | –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Linux —Å–µ—Ä–≤–µ—Ä (Docker + Docker Compose) |
| `make build` | –ó–±—É–¥—É–≤–∞—Ç–∏ Docker –æ–±—Ä–∞–∑–∏ |
| `make up` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |
| `make down` | –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |
| `make logs` | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ |
| `make shell` | –í—ñ–¥–∫—Ä–∏—Ç–∏ Django shell |
| `make migrate` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| `make createsuperuser` | –°—Ç–≤–æ—Ä–∏—Ç–∏ Django —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `make collectstatic` | –ó—ñ–±—Ä–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ |
| `make deploy` | –ü–æ–≤–Ω–∏–π –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç (build + migrate + collectstatic + up) |

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ –Ω–∞ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

```bash
# 1. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä
./setup-server.sh

# 2. –í–∏–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –∑–Ω–æ–≤—É (–∞–±–æ newgrp docker)

# 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ .env —Ñ–∞–π–ª
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç
make deploy
```

### –©–æ–¥–µ–Ω–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫
make up

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
make logs

# –ó—É–ø–∏–Ω–∫–∞
make down
```

### –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ backup
make backup-db

# Backup –±—É–¥–µ –≤ backups/db_dump_20251215_184500.json
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É

```bash
# 1. –ó—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
make down

# 2. –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥ (git pull, —Ç–æ—â–æ)

# 3. –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏
make deploy
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

- `Makefile` - –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
- `setup-server.sh` - —Å–∫—Ä–∏–ø—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Linux —Å–µ—Ä–≤–µ—Ä–∞
- `deploy.sh` - —Å–∫—Ä–∏–ø—Ç –ø–æ–≤–Ω–æ–≥–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
- `backups/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–º–ø—ñ–≤ (–¥–æ–¥–∞–Ω–∞ –≤ .gitignore)

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ –∫–æ–º–∞–Ω–¥–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ Docker Compose
- JSON –¥–∞–º–ø –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –¥–∞–Ω—ñ –∑ –±–∞–∑–∏ (–∫—Ä—ñ–º permissions —Ç–∞ contenttypes)
- Backups –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `backups/` (–Ω–µ –∫–æ–º—ñ—Ç–∏—Ç—å—Å—è –≤ git)
- –î–ª—è Windows –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Git Bash –∞–±–æ WSL –¥–ª—è –∑–∞–ø—É—Å–∫—É make –∫–æ–º–∞–Ω–¥

