{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}CRM –ü–∞–Ω–µ–ª—å{% endblock %}</title>
  {% tailwind_css %}
</head>

<body class="bg-gray-100 text-gray-900">
<div class="flex h-screen overflow-hidden">

  <!-- Sidebar -->
  <aside class="w-64 bg-white shadow-lg hidden md:block">
    <div class="p-4 text-xl font-bold border-b">üöó FinDrive CRM</div>
    <nav class="mt-4 space-y-2 p-4">

      <!-- Dashboard -->
      <a href="{% url 'dashboard' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 9.75L12 3l9 6.75V21H3V9.75z"/></svg>
        <span class="ml-2">–ì–æ–ª–æ–≤–Ω–∞</span>
      </a>

      <!-- Cars -->
      <a href="{% url 'car_list' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M3.75 15h16.5m-16.5 0v3.75a.75.75 0 0 0 .75.75h15a.75.75 0 0 0 .75-.75V15m-16.5 0l1.5-5.25A2.25 2.25 0 0 1 7.5 7.5h9a2.25 2.25 0 0 1 2.25 2.25L20.25 15"/>
          <circle cx="6.75" cy="19.5" r="1.5"/>
          <circle cx="17.25" cy="19.5" r="1.5"/>
        </svg>
        <span class="ml-2">–ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ</span>
      </a>

      <!-- Owners -->
      <a href="{% url 'owner_list' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24">
          <path d="M15.75 6.75a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0z"/>
          <path d="M4.5 21a8.25 8.25 0 0 1 15 0"/>
        </svg>
        <span class="ml-2">–í–ª–∞—Å–Ω–∏–∫–∏</span>
      </a>

      <!-- Notifications -->
      <a href="{% url 'notifications' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24">
          <path d="M14.25 17.25h-4.5a1.5 1.5 0 0 0-1.5 1.5v.75h7.5v-.75a1.5 1.5 0 0 0-1.5-1.5z"/>
          <path d="M6.75 9a5.25 5.25 0 1 1 10.5 0v3.75l1.5 3H5.25l1.5-3V9z"/>
        </svg>
        <span class="ml-2">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</span>
      </a>

      <!-- Chat -->
      <a href="{% url 'chat' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 12h9M7.5 15h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"/>
        </svg>
        <span class="ml-2">–ß–∞—Ç –∑ –≤–ª–∞—Å–Ω–∏–∫–∞–º–∏</span>
      </a>

      <!-- Invoices -->
      <a href="{% url 'invoices' %}" class="flex items-center px-4 py-2 rounded hover:bg-gray-200">
        <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="1.5"
             viewBox="0 0 24 24">
          <path d="M9 12h6M9 16h6M13 8h-2M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
        </svg>
        <span class="ml-2">–§–∞–∫—Ç—É—Ä–∏</span>
      </a>

    </nav>
  </aside>

  <!-- Main content -->
  <div class="flex-1 flex flex-col">

    <!-- Topbar -->
    <header class="bg-white shadow px-6 py-4 flex justify-between items-center">
      <h1 class="text-xl font-semibold">{% block page_title %}–ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è{% endblock %}</h1>
      <div class="flex items-center space-x-4">
        <span class="text-sm">–†–æ–ª—å: {{ request.user.role|default:"–ì—ñ—Å—Ç—å" }}</span>
        <div class="bg-gray-200 rounded-full h-8 w-8 flex items-center justify-center">
          {{ request.user.first_name|default:"?"|first }}
        </div>
      </div>
    </header>

    <!-- Page content -->
    <main class="flex-1 overflow-y-auto p-6">
      {% block content %}
      {% endblock %}
    </main>

  </div>
</div>
</body>
</html>
